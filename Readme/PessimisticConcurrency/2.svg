<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="732px" preserveAspectRatio="none" style="width:556px;height:732px;background:#FFFFFF;" version="1.1" viewBox="0 0 556 732" width="556px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="641.5938" style="stroke:#181818;stroke-width:1;" width="10" x="143.5645" y="46.2969"/><rect fill="#FFBBBB" height="180.7969" style="stroke:#181818;stroke-width:1;" width="10" x="148.5645" y="178.9609"/><rect fill="#FFBBBB" height="180.7969" style="stroke:#181818;stroke-width:1;" width="10" x="148.5645" y="491.0938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="91.5625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="149.8281"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="272.3594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="330.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="403.6953"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="461.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="584.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="642.7578"/><rect fill="#FFFFFF" height="32.1328" style="stroke:#181818;stroke-width:1;" width="10" x="483.7749" y="208.0938"/><rect fill="#FFFFFF" height="32.1328" style="stroke:#181818;stroke-width:1;" width="10" x="483.7749" y="520.2266"/><rect fill="none" height="626.5938" style="stroke:#000000;stroke-width:1.5;" width="540.2275" x="9" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="148" x2="148" y1="36.2969" y2="696.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="387.5215" x2="387.5215" y1="36.2969" y2="696.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="488.3223" x2="488.3223" y1="36.2969" y2="696.8906"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.1289" x="101" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.1289" x="108" y="24.9951">JobInstance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.1289" x="101" y="695.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.1289" x="108" y="715.8857">JobInstance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="347.5215" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="354.5215" y="24.9951">Database</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.8008" x="347.5215" y="695.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="354.5215" y="715.8857">Database</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.9053" x="438.3223" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.9053" x="445.3223" y="24.9951">BankService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.9053" x="438.3223" y="695.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.9053" x="445.3223" y="715.8857">BankService</text><rect fill="#FFFFFF" height="641.5938" style="stroke:#181818;stroke-width:1;" width="10" x="143.5645" y="46.2969"/><rect fill="#FFBBBB" height="180.7969" style="stroke:#181818;stroke-width:1;" width="10" x="148.5645" y="178.9609"/><rect fill="#FFBBBB" height="180.7969" style="stroke:#181818;stroke-width:1;" width="10" x="148.5645" y="491.0938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="91.5625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="149.8281"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="272.3594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="330.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="403.6953"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="461.9609"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="584.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="382.9219" y="642.7578"/><rect fill="#FFFFFF" height="32.1328" style="stroke:#181818;stroke-width:1;" width="10" x="483.7749" y="208.0938"/><rect fill="#FFFFFF" height="32.1328" style="stroke:#181818;stroke-width:1;" width="10" x="483.7749" y="520.2266"/><path d="M9,53.2969 L78.4893,53.2969 L78.4893,60.4297 L68.4893,70.4297 L9,70.4297 L9,53.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="626.5938" style="stroke:#000000;stroke-width:1.5;" width="540.2275" x="9" y="53.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4893" x="24" y="66.3638">par</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95.3638" x="93.4893" y="65.5073">[First Instance]</text><polygon fill="#181818" points="370.9219,87.5625,380.9219,91.5625,370.9219,95.5625,374.9219,91.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="153.5645" x2="376.9219" y1="91.5625" y2="91.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.7671" x="160.5645" y="86.4966">Get payment message</text><polygon fill="#181818" points="164.5645,116.6953,154.5645,120.6953,164.5645,124.6953,160.5645,120.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="386.9219" y1="120.6953" y2="120.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.2095" x="170.5645" y="115.6294">Fetched</text><polygon fill="#181818" points="370.9219,145.8281,380.9219,149.8281,370.9219,153.8281,374.9219,149.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="153.5645" x2="376.9219" y1="149.8281" y2="149.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4028" x="160.5645" y="144.7622">Can do refund</text><polygon fill="#181818" points="169.5645,174.9609,159.5645,178.9609,169.5645,182.9609,165.5645,178.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.5645" x2="386.9219" y1="178.9609" y2="178.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4961" x="175.5645" y="173.895">Refund allowed</text><polygon fill="#181818" points="471.7749,204.0938,481.7749,208.0938,471.7749,212.0938,475.7749,208.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="477.7749" y1="208.0938" y2="208.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.4727" x="165.5645" y="203.0278">Payment - money transfer</text><polygon fill="#181818" points="169.5645,236.2266,159.5645,240.2266,169.5645,244.2266,165.5645,240.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.5645" x2="487.7749" y1="240.2266" y2="240.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8228" x="175.5645" y="235.1606">Money transfered</text><path d="M19,221.0938 L19,246.0938 L137,246.0938 L137,231.0938 L127,221.0938 L19,221.0938 " fill="#FFBBBB" style="stroke:#181818;stroke-width:0.5;"/><path d="M127,221.0938 L127,231.0938 L137,231.0938 L127,221.0938 " fill="#FFBBBB" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.8999" x="25" y="238.1606">Critical Section</text><polygon fill="#181818" points="370.9219,268.3594,380.9219,272.3594,370.9219,276.3594,374.9219,272.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="376.9219" y1="272.3594" y2="272.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.8711" x="165.5645" y="267.2935">Process payment</text><polygon fill="#181818" points="169.5645,297.4922,159.5645,301.4922,169.5645,305.4922,165.5645,301.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.5645" x2="386.9219" y1="301.4922" y2="301.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.0791" x="175.5645" y="296.4263">Processed</text><polygon fill="#181818" points="370.9219,326.625,380.9219,330.625,370.9219,334.625,374.9219,330.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="376.9219" y1="330.625" y2="330.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.3574" x="165.5645" y="325.5591">Marked message as processed</text><polygon fill="#181818" points="164.5645,355.7578,154.5645,359.7578,164.5645,363.7578,160.5645,359.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="386.9219" y1="359.7578" y2="359.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.3574" x="170.5645" y="354.6919">Message marked as processed</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="9" x2="549.2275" y1="368.7578" y2="368.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="112.0142" x="14" y="378.9683">[Second Instance]</text><polygon fill="#181818" points="370.9219,399.6953,380.9219,403.6953,370.9219,407.6953,374.9219,403.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="153.5645" x2="376.9219" y1="403.6953" y2="403.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.7671" x="160.5645" y="398.6294">Get payment message</text><polygon fill="#181818" points="164.5645,428.8281,154.5645,432.8281,164.5645,436.8281,160.5645,432.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="386.9219" y1="432.8281" y2="432.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.2095" x="170.5645" y="427.7622">Fetched</text><polygon fill="#181818" points="370.9219,457.9609,380.9219,461.9609,370.9219,465.9609,374.9219,461.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="153.5645" x2="376.9219" y1="461.9609" y2="461.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4028" x="160.5645" y="456.895">Can do refund</text><polygon fill="#181818" points="169.5645,487.0938,159.5645,491.0938,169.5645,495.0938,165.5645,491.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.5645" x2="386.9219" y1="491.0938" y2="491.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4961" x="175.5645" y="486.0278">Refund allowed</text><polygon fill="#181818" points="471.7749,516.2266,481.7749,520.2266,471.7749,524.2266,475.7749,520.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="477.7749" y1="520.2266" y2="520.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.4727" x="165.5645" y="515.1606">Payment - money transfer</text><polygon fill="#181818" points="169.5645,548.3594,159.5645,552.3594,169.5645,556.3594,165.5645,552.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.5645" x2="487.7749" y1="552.3594" y2="552.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.8228" x="175.5645" y="547.2935">Money transfered</text><path d="M19,533.2266 L19,558.2266 L137,558.2266 L137,543.2266 L127,533.2266 L19,533.2266 " fill="#FFBBBB" style="stroke:#181818;stroke-width:0.5;"/><path d="M127,533.2266 L127,543.2266 L137,543.2266 L127,533.2266 " fill="#FFBBBB" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.8999" x="25" y="550.2935">Critical Section</text><polygon fill="#181818" points="370.9219,580.4922,380.9219,584.4922,370.9219,588.4922,374.9219,584.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="376.9219" y1="584.4922" y2="584.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.8711" x="165.5645" y="579.4263">Process payment</text><polygon fill="#181818" points="169.5645,609.625,159.5645,613.625,169.5645,617.625,165.5645,613.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="163.5645" x2="386.9219" y1="613.625" y2="613.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.0791" x="175.5645" y="608.5591">Processed</text><polygon fill="#181818" points="370.9219,638.7578,380.9219,642.7578,370.9219,646.7578,374.9219,642.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="376.9219" y1="642.7578" y2="642.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.3574" x="165.5645" y="637.6919">Marked message as processed</text><polygon fill="#181818" points="164.5645,667.8906,154.5645,671.8906,164.5645,675.8906,160.5645,671.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="158.5645" x2="386.9219" y1="671.8906" y2="671.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.3574" x="170.5645" y="666.8247">Message marked as processed</text><!--SRC=[xLFDRi8m3BxdAIpjp0jms05Gfqr2GkC9JE9k4Qc34W_4syziBKrLcDJpo2co_FtaSunM_165u2tkNZaBiYLZ3fYWyYaBzBMY0MRFi4B17MQQmmi97F3S40iqb3D-aC6EjciptUM2BQdcK97OJtB6qHXrJrLXIsHm4HBLN-mc2Rx_G013YATxkdWZ5tYggeMUaQi5ydvBwUYjnh5fevX14vdE80avrvHwogBT5FUnqVM0O6Yr934SjHAebgj505WcBzvYW2qfAB8XVVIbyuzPRbAqEi9kdfDYRR4J9wclnBGdrtqTG5M_CatHNxS4pI_VWEUcew8u-FqKb5v3YvfNNtqim6C1_ii2iFi6]--></g></svg>